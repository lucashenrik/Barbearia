{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lucas\\\\Documents\\\\Projetos\\\\pro\\\\barbearia\\\\src\\\\frontend\\\\src\\\\components\\\\cliente\\\\atendimentos\\\\createAtend\\\\CreateAtendimento.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport BarbeiroSelector from './selectors/BarbeiroSelector';\nimport ServicoSelector from './selectors/ServicoSelector';\nimport HorarioSelector from './selectors/HorarioSelector';\nimport styles from './CreateAtendimento.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateAtendimento = ({\n  modo\n}) => {\n  _s();\n  const [barbeiros, setBarbeiros] = useState([]);\n  const [selectedBarbeiroId, setSelectedBarbeiroId] = useState(null);\n  const [servicos, setServicos] = useState([]);\n  const [selectedServicos, setSelectedServicos] = useState([]);\n  const [horarios, setHorarios] = useState([]);\n  const [selectedHorario, setSelectedHorario] = useState('');\n  useEffect(() => {\n    axios.get('http://localhost:8080/atendimento/barbeiros-disponiveis').then(response => setBarbeiros(response.data)).catch(error => console.error(\"Erro ao buscar barbeiros:\", error));\n  }, []);\n  useEffect(() => {\n    if (selectedBarbeiroId) {\n      axios.get(`http://localhost:8080/atendimento/buscarPorIdBarbeiro?barbeiroId=${selectedBarbeiroId}`).then(response => setServicos(response.data)).catch(error => console.error(\"Erro ao buscar serviços:\", error));\n    }\n  }, [selectedBarbeiroId]);\n  useEffect(() => {\n    if (selectedBarbeiroId && selectedServicos.length) {\n      const duracaoServico = selectedServicos.reduce((acc, servico) => acc + servico.duracao, 0);\n      axios.get(`http://localhost:8080/atendimento/horarios-disponiveis?barbeiroId=${selectedBarbeiroId}&data=${new Date().toISOString().split('T')[0]}&duracaoServico=${duracaoServico}`).then(response => setHorarios(response.data)).catch(error => console.error(\"Erro ao buscar horários:\", error));\n    }\n  }, [selectedBarbeiroId, selectedServicos]);\n  const handleCreateAtendimento = () => {\n    console.log(\"Atendimento criado com sucesso!\");\n  };\n  const showButton = selectedBarbeiroId !== null && selectedServicos.length > 0 && selectedHorario !== '';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.title,\n      children: modo === 'atualizar' ? 'Alterar Atendimento' : 'Criar Atendimento'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.selectorContainer,\n      children: /*#__PURE__*/_jsxDEV(BarbeiroSelector, {\n        barbeiros: barbeiros,\n        selectedBarbeiroId: selectedBarbeiroId,\n        onSelect: setSelectedBarbeiroId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), selectedBarbeiroId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.selectorContainer,\n      children: /*#__PURE__*/_jsxDEV(ServicoSelector, {\n        servicos: servicos,\n        selectedServicos: selectedServicos,\n        onSelect: setSelectedServicos\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), selectedServicos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.selectorContainer,\n      children: /*#__PURE__*/_jsxDEV(HorarioSelector, {\n        horarios: horarios,\n        selectedHorario: selectedHorario,\n        onSelect: setSelectedHorario\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), showButton && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: styles.button,\n      onClick: handleCreateAtendimento,\n      children: modo === 'atualizar' ? 'Atualizar Atendimento' : 'Criar Atendimento'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(CreateAtendimento, \"7+V2QgeNsH0eKE2h5vt4ZyEnW7Y=\");\n_c = CreateAtendimento;\nexport default CreateAtendimento;\nvar _c;\n$RefreshReg$(_c, \"CreateAtendimento\");","map":{"version":3,"names":["React","useState","useEffect","axios","useNavigate","useLocation","BarbeiroSelector","ServicoSelector","HorarioSelector","styles","jsxDEV","_jsxDEV","CreateAtendimento","modo","_s","barbeiros","setBarbeiros","selectedBarbeiroId","setSelectedBarbeiroId","servicos","setServicos","selectedServicos","setSelectedServicos","horarios","setHorarios","selectedHorario","setSelectedHorario","get","then","response","data","catch","error","console","length","duracaoServico","reduce","acc","servico","duracao","Date","toISOString","split","handleCreateAtendimento","log","showButton","className","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","selectorContainer","onSelect","button","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Lucas/Documents/Projetos/pro/barbearia/src/frontend/src/components/cliente/atendimentos/createAtend/CreateAtendimento.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport BarbeiroSelector from './selectors/BarbeiroSelector';\nimport ServicoSelector from './selectors/ServicoSelector';\nimport HorarioSelector from './selectors/HorarioSelector';\nimport styles from './CreateAtendimento.module.css';\n\nconst CreateAtendimento = ({ modo }) => {\n  const [barbeiros, setBarbeiros] = useState([]);\n  const [selectedBarbeiroId, setSelectedBarbeiroId] = useState(null);\n  const [servicos, setServicos] = useState([]);\n  const [selectedServicos, setSelectedServicos] = useState([]);\n  const [horarios, setHorarios] = useState([]);\n  const [selectedHorario, setSelectedHorario] = useState('');\n\n  useEffect(() => {\n    axios.get('http://localhost:8080/atendimento/barbeiros-disponiveis')\n      .then(response => setBarbeiros(response.data))\n      .catch(error => console.error(\"Erro ao buscar barbeiros:\", error));\n  }, []);\n\n  useEffect(() => {\n    if (selectedBarbeiroId) {\n      axios.get(`http://localhost:8080/atendimento/buscarPorIdBarbeiro?barbeiroId=${selectedBarbeiroId}`)\n        .then(response => setServicos(response.data))\n        .catch(error => console.error(\"Erro ao buscar serviços:\", error));\n    }\n  }, [selectedBarbeiroId]);\n\n  useEffect(() => {\n    if (selectedBarbeiroId && selectedServicos.length) {\n      const duracaoServico = selectedServicos.reduce((acc, servico) => acc + servico.duracao, 0);\n      axios.get(`http://localhost:8080/atendimento/horarios-disponiveis?barbeiroId=${selectedBarbeiroId}&data=${new Date().toISOString().split('T')[0]}&duracaoServico=${duracaoServico}`)\n        .then(response => setHorarios(response.data))\n        .catch(error => console.error(\"Erro ao buscar horários:\", error));\n    }\n  }, [selectedBarbeiroId, selectedServicos]);\n\n  const handleCreateAtendimento = () => {\n    console.log(\"Atendimento criado com sucesso!\");\n  };\n\n  const showButton = selectedBarbeiroId !== null && selectedServicos.length > 0 && selectedHorario !== '';\n\n  return (\n    <div className={styles.container}>\n      <p className={styles.title}>\n        {modo === 'atualizar' ? 'Alterar Atendimento' : 'Criar Atendimento'}\n      </p>\n\n      <div className={styles.selectorContainer}>\n        <BarbeiroSelector\n          barbeiros={barbeiros}\n          selectedBarbeiroId={selectedBarbeiroId}\n          onSelect={setSelectedBarbeiroId}\n        />\n      </div>\n\n      {selectedBarbeiroId && (\n        <div className={styles.selectorContainer}>\n          <ServicoSelector\n            servicos={servicos}\n            selectedServicos={selectedServicos}\n            onSelect={setSelectedServicos}\n          />\n        </div>\n      )}\n\n      {selectedServicos.length > 0 && (\n        <div className={styles.selectorContainer}>\n          <HorarioSelector\n            horarios={horarios}\n            selectedHorario={selectedHorario}\n            onSelect={setSelectedHorario}\n          />\n        </div>\n      )}\n\n      {showButton && (\n        <button className={styles.button} onClick={handleCreateAtendimento}>\n          {modo === 'atualizar' ? 'Atualizar Atendimento' : 'Criar Atendimento'}\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default CreateAtendimento;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}