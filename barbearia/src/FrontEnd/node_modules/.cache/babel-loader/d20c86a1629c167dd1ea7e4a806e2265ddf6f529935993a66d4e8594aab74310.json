{"ast":null,"code":"/* src/components/CreateAtendimento.js */\n/*import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport BarbeiroSelector from './selectors/BarbeiroSelector';\r\nimport ServicoSelector from './selectors/ServicoSelector';\r\nimport HorarioSelector from './selectors/HorarioSelector';\r\nimport styles from './CreateAtendimento.module.css';\r\n\r\nconst CreateAtendimento = () => {\r\n  const [barbeiros, setBarbeiros] = useState([]);\r\n  const [selectedBarbeiroId, setSelectedBarbeiroId] = useState(null);\r\n  const [servicos, setServicos] = useState([]);\r\n  const [selectedServicos, setSelectedServicos] = useState([]);\r\n  const [horarios, setHorarios] = useState([]);\r\n  const [selectedHorario, setSelectedHorario] = useState('');\r\n  const clienteId = 1; // ID do cliente, pode vir do contexto ou props\r\n\r\n  useEffect(() => {\r\n    axios.get('/atendimento/barbeiros-disponiveis')\r\n      .then(response => setBarbeiros(response.data))\r\n      .catch(error => console.error(\"Erro ao buscar barbeiros:\", error));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedBarbeiroId) {\r\n      axios.get(`/atendimento/buscarPorIdBarbeiro?barbeiroId=${selectedBarbeiroId}`)\r\n        .then(response => setServicos(response.data))\r\n        .catch(error => console.error(\"Erro ao buscar serviços:\", error));\r\n    }\r\n  }, [selectedBarbeiroId]);\r\n\r\n  useEffect(() => {\r\n    if (selectedBarbeiroId && selectedServicos.length) {\r\n      const duracaoServico = 20; // Calcule a duração total dos serviços selecionados\r\n      axios.get(`/atendimento/horarios-disponiveis?barbeiroId=${selectedBarbeiroId}&data=${1 /* Data selecionada */ /*}&duracaoServico=${duracaoServico}`)\r\n                                                                                                                    .then(response => setHorarios(response.data))\r\n                                                                                                                    .catch(error => console.error(\"Erro ao buscar horários:\", error));\r\n                                                                                                                    }\r\n                                                                                                                    }, [selectedBarbeiroId, selectedServicos]);\r\n                                                                                                                    const handleCreateAtendimento = () => {\r\n                                                                                                                    const atendimentoData = {\r\n                                                                                                                    clienteId,\r\n                                                                                                                    barbeiroId: selectedBarbeiroId,\r\n                                                                                                                    servicos: selectedServicos,\r\n                                                                                                                    horario: selectedHorario\r\n                                                                                                                    };\r\n                                                                                                                    axios.post('/atendimento/criar', atendimentoData)\r\n                                                                                                                    .then(response => {\r\n                                                                                                                    console.log(\"Atendimento criado com sucesso!\");\r\n                                                                                                                    })\r\n                                                                                                                    .catch(error => console.error(\"Erro ao criar atendimento:\", error));\r\n                                                                                                                    };\r\n                                                                                                                    return (\r\n                                                                                                                    <div className={styles.container}>\r\n                                                                                                                    <p className={styles.title}>Criar Atendimento</p>\r\n                                                                                                                    <div className={styles.selectorContainer}>\r\n                                                                                                                    <BarbeiroSelector \r\n                                                                                                                    barbeiros={barbeiros} \r\n                                                                                                                    selectedBarbeiroId={selectedBarbeiroId} \r\n                                                                                                                    onSelect={setSelectedBarbeiroId} \r\n                                                                                                                    />\r\n                                                                                                                    <div className={styles.box}>\r\n                                                                                                                    {/* Aqui você pode adicionar qualquer conteúdo adicional relacionado aos barbeiros */ /*}\r\n                                                                                                                                                                                                          </div>\r\n                                                                                                                                                                                                          </div>\r\n                                                                                                                                                                                                          <div className={styles.selectorContainer}>\r\n                                                                                                                                                                                                          <ServicoSelector \r\n                                                                                                                                                                                                          servicos={servicos} \r\n                                                                                                                                                                                                          selectedServicos={selectedServicos} \r\n                                                                                                                                                                                                          onSelect={setSelectedServicos} \r\n                                                                                                                                                                                                          />\r\n                                                                                                                                                                                                          <div className={styles.box}>\r\n                                                                                                                                                                                                          {/* Aqui você pode adicionar qualquer conteúdo adicional relacionado aos serviços */ /*}\r\n                                                                                                                                                                                                                                                                                               </div>\r\n                                                                                                                                                                                                                                                                                               </div>\r\n                                                                                                                                                                                                                                                                                               <div className={styles.selectorContainer}>\r\n                                                                                                                                                                                                                                                                                               <HorarioSelector \r\n                                                                                                                                                                                                                                                                                               horarios={horarios} \r\n                                                                                                                                                                                                                                                                                               selectedHorario={selectedHorario} \r\n                                                                                                                                                                                                                                                                                               onSelect={setSelectedHorario} \r\n                                                                                                                                                                                                                                                                                               />\r\n                                                                                                                                                                                                                                                                                               <div className={styles.box}>\r\n                                                                                                                                                                                                                                                                                               {/* Aqui você pode adicionar qualquer conteúdo adicional relacionado aos horários */ /*}\r\n                                                                                                                                                                                                                                                                                                                                                                                    </div>\r\n                                                                                                                                                                                                                                                                                                                                                                                    </div>\r\n                                                                                                                                                                                                                                                                                                                                                                                    <button className={styles.button} onClick={handleCreateAtendimento}>Criar Agendamento</button>\r\n                                                                                                                                                                                                                                                                                                                                                                                    </div>\r\n                                                                                                                                                                                                                                                                                                                                                                                    );\r\n                                                                                                                                                                                                                                                                                                                                                                                    };\r\n                                                                                                                                                                                                                                                                                                                                                                                    export default CreateAtendimento;*/","map":{"version":3,"names":[],"sources":["C:/Users/Lucas/Documents/estudos/react/crud/backend/frontend/src/components/atendimentos/createAtend/CreateAtendimento.jsx"],"sourcesContent":["/* src/components/CreateAtendimento.js */\r\n/*import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport BarbeiroSelector from './selectors/BarbeiroSelector';\r\nimport ServicoSelector from './selectors/ServicoSelector';\r\nimport HorarioSelector from './selectors/HorarioSelector';\r\nimport styles from './CreateAtendimento.module.css';\r\n\r\nconst CreateAtendimento = () => {\r\n  const [barbeiros, setBarbeiros] = useState([]);\r\n  const [selectedBarbeiroId, setSelectedBarbeiroId] = useState(null);\r\n  const [servicos, setServicos] = useState([]);\r\n  const [selectedServicos, setSelectedServicos] = useState([]);\r\n  const [horarios, setHorarios] = useState([]);\r\n  const [selectedHorario, setSelectedHorario] = useState('');\r\n  const clienteId = 1; // ID do cliente, pode vir do contexto ou props\r\n\r\n  useEffect(() => {\r\n    axios.get('/atendimento/barbeiros-disponiveis')\r\n      .then(response => setBarbeiros(response.data))\r\n      .catch(error => console.error(\"Erro ao buscar barbeiros:\", error));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedBarbeiroId) {\r\n      axios.get(`/atendimento/buscarPorIdBarbeiro?barbeiroId=${selectedBarbeiroId}`)\r\n        .then(response => setServicos(response.data))\r\n        .catch(error => console.error(\"Erro ao buscar serviços:\", error));\r\n    }\r\n  }, [selectedBarbeiroId]);\r\n\r\n  useEffect(() => {\r\n    if (selectedBarbeiroId && selectedServicos.length) {\r\n      const duracaoServico = 20; // Calcule a duração total dos serviços selecionados\r\n      axios.get(`/atendimento/horarios-disponiveis?barbeiroId=${selectedBarbeiroId}&data=${1 /* Data selecionada *//*}&duracaoServico=${duracaoServico}`)\r\n        .then(response => setHorarios(response.data))\r\n        .catch(error => console.error(\"Erro ao buscar horários:\", error));\r\n    }\r\n  }, [selectedBarbeiroId, selectedServicos]);\r\n\r\n  const handleCreateAtendimento = () => {\r\n    const atendimentoData = {\r\n      clienteId,\r\n      barbeiroId: selectedBarbeiroId,\r\n      servicos: selectedServicos,\r\n      horario: selectedHorario\r\n    };\r\n\r\n    axios.post('/atendimento/criar', atendimentoData)\r\n      .then(response => {\r\n        console.log(\"Atendimento criado com sucesso!\");\r\n      })\r\n      .catch(error => console.error(\"Erro ao criar atendimento:\", error));\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <p className={styles.title}>Criar Atendimento</p>\r\n      \r\n      <div className={styles.selectorContainer}>\r\n        <BarbeiroSelector \r\n          barbeiros={barbeiros} \r\n          selectedBarbeiroId={selectedBarbeiroId} \r\n          onSelect={setSelectedBarbeiroId} \r\n        />\r\n        <div className={styles.box}>\r\n          {/* Aqui você pode adicionar qualquer conteúdo adicional relacionado aos barbeiros *//*}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className={styles.selectorContainer}>\r\n        <ServicoSelector \r\n          servicos={servicos} \r\n          selectedServicos={selectedServicos} \r\n          onSelect={setSelectedServicos} \r\n        />\r\n        <div className={styles.box}>\r\n          {/* Aqui você pode adicionar qualquer conteúdo adicional relacionado aos serviços *//*}\r\n        </div>\r\n      </div>\r\n      \r\n      <div className={styles.selectorContainer}>\r\n        <HorarioSelector \r\n          horarios={horarios} \r\n          selectedHorario={selectedHorario} \r\n          onSelect={setSelectedHorario} \r\n        />\r\n        <div className={styles.box}>\r\n          {/* Aqui você pode adicionar qualquer conteúdo adicional relacionado aos horários *//*}\r\n        </div>\r\n      </div>\r\n      \r\n      <button className={styles.button} onClick={handleCreateAtendimento}>Criar Agendamento</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateAtendimento;*/\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mHAjCA,CAiCmH;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yMA5BmH,CAgCpB;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8RAV+F,CAWD;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mXAV8F,CAWA;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}